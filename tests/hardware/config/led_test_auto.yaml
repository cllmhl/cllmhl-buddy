# Test LED Hardware - Sequence Mode (automatico)
# Esegue una sequenza predefinita di test LED

buddy_home: ${BUDDY_HOME:-.}

# Brain - configurazione minima
brain:
  model_id: "gemini-2.0-flash-exp"
  generation_config:
    temperature: 0.7
    max_tokens: 150
  archivist_interval: 300.0

# Queues
queues:
  input_maxsize: 100
  output_maxsize: 50

# Logging
logging:
  log_file: "logs/led_test_auto.log"
  max_bytes: 5242880
  backup_count: 2

# Adapters
adapters:
  # Input: DirectOutputInput con sequenza automatica
  input:
    - class: "DirectOutputInput"
      config:
        mode: "sequence"  # Esegue sequenza e termina
        sequence:
          # Test LED Ascolto
          - type: "LED_CONTROL"
            metadata: {led: "ascolto", command: "on"}
            delay: 2.0
          
          - type: "LED_CONTROL"
            metadata: {led: "ascolto", command: "off"}
            delay: 1.0
          
          # Test LED Parlo
          - type: "LED_CONTROL"
            metadata: {led: "parlo", command: "on"}
            delay: 2.0
          
          - type: "LED_CONTROL"
            metadata: {led: "parlo", command: "off"}
            delay: 1.0
          
          # Test Blink Ascolto
          - type: "LED_CONTROL"
            metadata: {led: "ascolto", command: "blink", times: 3}
            delay: 2.0
          
          # Test Blink Parlo
          - type: "LED_CONTROL"
            metadata: {led: "parlo", command: "blink", times: 5}
            delay: 2.0
  
  # Output: LED reali + console
  output:
    - class: "GPIOLEDOutput"
      config:
        led_ascolto_pin: 26
        led_stato_pin: 21
        queue_maxsize: 50
    
    - class: "ConsoleOutput"
      config:
        verbose: true
